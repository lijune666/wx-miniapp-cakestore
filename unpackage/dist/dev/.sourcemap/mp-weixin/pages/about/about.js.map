{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/lijun/LocalWarehouse/wx-miniapp-cakestore/pages/about/about.vue?93e4","webpack:////Users/lijun/LocalWarehouse/wx-miniapp-cakestore/pages/about/about.vue?0dba","webpack:////Users/lijun/LocalWarehouse/wx-miniapp-cakestore/pages/about/about.vue?21cb","uni-app:///pages/about/about.vue","webpack:////Users/lijun/LocalWarehouse/wx-miniapp-cakestore/pages/about/about.vue?768b","webpack:////Users/lijun/LocalWarehouse/wx-miniapp-cakestore/pages/about/about.vue?ebe3"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","isModalVisible","portrait","avatarUrl","selfname","nickname","userInfo","loginState","onLoad","key","success","methods","showModal","uni","onChooseAvatar","hideModal","submitModal","url","code","select","fields","properties","exec","fail","console"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAozB,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC8Bx0B;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAAA;IACA;IACAb;MACAc;MACAC;QACA;QACAf;UACAc;UACAC;YACA;YACA;UACA;QACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;QACA;QACA;MACA;MACA;MACAC;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACAF;IACA;IAEA;IACAG;MAAA;MACA;MACAH;QACAH;UACA;UACA;YACAG;cACAI;cACAjB;gBACAkB;cACA;cACAR;gBACA;;gBAEA;gBACAf;;gBAEA;gBACA;gBACAkB,0BACAM,qBACAC;kBAAAC;gBAAA,GACAC;kBACA;kBACA;kBACAT;kBACA;kBACAlB;oBACAc;oBACAT;kBACA;gBACA;cACA;YACA;UACA;QACA;QACAuB;UACAC;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC3HA;AAAA;AAAA;AAAA;AAAugD,CAAgB,k6CAAG,EAAC,C;;;;;;;;;;;ACA3hD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/about/about.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/about/about.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./about.vue?vue&type=template&id=92c79dbc&\"\nvar renderjs\nimport script from \"./about.vue?vue&type=script&lang=js&\"\nexport * from \"./about.vue?vue&type=script&lang=js&\"\nimport style0 from \"./about.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/about/about.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./about.vue?vue&type=template&id=92c79dbc&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./about.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./about.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<!-- 登录/注册点击位置 -->\n\t\t<view class=\"box\">\n\t\t\t<view class=\"portrait-box\">\n\t\t\t\t<image mode=\"scaleToFill\" :src=\"portrait\" @click=\"showModal\"></image>\n\t\t\t</view>\n\t\t\t<view class=\"cybername\" @click=\"showModal\">{{selfname}}</view>\n\t\t</view>\n\t\t\n\t\t<!-- 弹窗 -->\n\t\t<view v-if=\"isModalVisible\" class=\"modal-overlay\">\n\t\t\t<view style=\"margin: 20rpx; text-align: center; font-size: 30rpx; font-weight: 700;\">登录/注册</view>\n\t\t\t<view style=\"margin: 20rpx; color: #b3b3b3; text-align: center;\">请求获取你的昵称、头像</view>\n\t\t\t<button class=\"avatar-wrapper\" open-type=\"chooseAvatar\" @chooseavatar=\"onChooseAvatar\">\n\t\t\t\t<image class=\"avatar\" :src=\"avatarUrl\"></image>\n\t\t\t</button> \n\t\t\t<input id=\"nickInput\" v-model=\"nickname\" type=\"nickname\" class=\"weui-input\" placeholder=\"请输入昵称\"/>\n\t\t\t<view class=\"button-box\">\n\t\t\t\t<button class=\"login-reject\" @click=\"hideModal\">拒绝</button>\n\t\t\t\t<button class=\"login-resolve\" @click=\"submitModal\" style=\"color: white; background-color: #32c9fc; border: 1rpx solid #32c9fc;\">允许</button>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 遮罩层 -->\n\t\t<view v-if=\"isModalVisible\" class=\"page-overlay\"></view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisModalVisible: false,\n\t\t\t\tportrait: '../../static/images/weixintouxiang.jpeg',\n\t\t\t\tavatarUrl: '../../static/images/weixintouxiang.jpeg',\n\t\t\t\tselfname: '点击这里登录/注册',\n\t\t\t\tnickname: '',\n\t\t\t\tuserInfo: {},\n\t\t\t\tloginState: 0,\n\t\t\t};\n\t\t},\n\t\tonLoad() {\n\t\t\t// 获取登录状态\n\t\t\twx.getStorage({\n\t\t\t\tkey: 'loginstate',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.loginState = res.data;\n\t\t\t\t\twx.getStorage({\n\t\t\t\t\t\tkey: 'imageandname',\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tthis.portrait = res.data[0];\n\t\t\t\t\t\t\tthis.selfname = res.data[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tmethods: {\n\t\t\t// 展示登录/注册弹窗\n\t\t\tshowModal() {\n\t\t\t\tif(this.loginState == 1) {\n\t\t\t\t\tthis.avatarUrl = this.portrait;\n\t\t\t\t\tthis.nickname = this.selfname;\n\t\t\t\t}\n\t\t\t\tthis.isModalVisible = true;\n\t\t\t\tuni.hideTabBar();\t\t\t\t\n\t\t\t},\n\t\t\t\n\t\t\t// 获取微信头像\n\t\t\tonChooseAvatar(e) {\n\t\t\t\tthis.avatarUrl = e.detail.avatarUrl;\n\t\t\t},\n\t\t\t\n\t\t\t// 关闭登录/注册弹窗\n\t\t\thideModal() {\n\t\t\t\tthis.isModalVisible = false;\n\t\t\t\tuni.showTabBar();\n\t\t\t},  \n\t\t\t\n\t\t\t// 允许获得头像和昵称，并且登录\n\t\t\tsubmitModal() {    \n\t\t\t\t// 拿到用户的openid\n\t\t\t\tuni.login({\n\t\t\t\t\tsuccess: (res) => {  \n\t\t\t\t\t\t// 通过code在开发者服务器中向微信服务器请求openid\n\t\t\t\t\t\tif(res.code) {\n\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\turl: 'http://localhost:3000/users/api/login/userinfo',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tcode: res.code\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\tthis.loginState = res.data;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t//将这个状态放入localStorage中\n\t\t\t\t\t\t\t\t\twx.setStorageSync('loginstate', this.loginState);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t// 前提是获得了返回的登录状态，才能运行下面的代码\n\t\t\t\t\t\t\t\t\tthis.portrait = this.avatarUrl;\n\t\t\t\t\t\t\t\t\tuni.createSelectorQuery()\n\t\t\t\t\t\t\t\t\t\t.select('#nickInput')\n\t\t\t\t\t\t\t\t\t\t.fields({ properties: ['value'] })\n\t\t\t\t\t\t\t\t\t\t.exec((res) => {\n\t\t\t\t\t\t\t\t\t\t\tthis.selfname = res[0].value;\n\t\t\t\t\t\t\t\t\t\t\tthis.isModalVisible = false;\n\t\t\t\t\t\t\t\t\t\t\tuni.showTabBar();\n\t\t\t\t\t\t\t\t\t\t    // 每次都可能修改，所以每次都重新存\n\t\t\t\t\t\t\t\t\t\t    wx.setStorage({\n\t\t\t\t\t\t\t\t\t\t\t    key: 'imageandname',\n\t\t\t\t\t\t\t\t\t\t\t    data: [this.portrait, this.selfname],\n\t\t\t\t\t\t\t\t\t\t    })\t\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (res) => {\n\t\t\t\t\t\tconsole.log('登录失败！' + res);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n.page-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n  z-index: -1;\n}\n\t\n.box {\n\t.portrait-box {\n\t\tposition: absolute;\n\t\ttop: 450rpx; \n\t\tleft: 310rpx;\n\t\twidth: 150rpx;\n\t\theight: 150rpx;\n\t\toverflow: hidden;\n\t\tborder-radius: 10rpx;\n\t\timage {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\t}\n\t.cybername {\n\t\ttext-align: center; \n\t\tmargin-top: 640rpx; \n\t}\n}\n.modal-overlay {\n\tposition: absolute;\n\ttop: calc(50% - 250rpx);\n\tleft: calc(50% - 250rpx);\n\twidth: 500rpx;\n\theight: 500rpx;\n\tborder-radius: 20rpx;\n\tbackground-color: white;\n\tanimation: fadeInOut 0.3s ease-in-out;\n\t.avatar-wrapper {\n\t\tmargin-top: 20rpx;\n\t\tmargin-bottom: 20rpx;\n\t\twidth: 100px; \n\t\theight: 100px; \n\t\tborder: none; \n\t\tbackground-color: transparent; \n\t\tpadding: 0; \n\t\t.avatar {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tobject-fit: cover;\n\t\t}\n\t}\n\t.weui-input {\n\t\tmargin-top: 20rpx;\n\t\tmargin-bottom: 20rpx;\n\t\tposition: relative;\n\t\tleft: 20rpx;\n\t\twidth: 80%;\n\t\theight: 50rpx;\n\t\tfont-size: 26rpx;\n\t\tmargin-left: 20rpx;\n\t\tborder: 1px solid #e4e1e7;\n\t\tborder-radius: 10rpx;\n\t\tpadding: 0 10rpx;\n\t}\t\n\t.button-box {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between; /* 可根据需要调整对齐方式 */\n\t\tbutton {\n\t\t\twidth: 35%;\n\t\t\theight: 70rpx;\n\t\t\tline-height: 70rpx;\n\t\t\tfont-size: 26rpx;\n\t\t}\n\t}\n}\n\n@keyframes fadeInOut {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./about.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./about.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1693075300617\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}