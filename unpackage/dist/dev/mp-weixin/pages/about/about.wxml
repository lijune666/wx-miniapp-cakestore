<view><view class="box"><view class="portrait-box"><image mode="scaleToFill" src="{{portrait}}" data-event-opts="{{[['tap',[['showModal',['$event']]]]]}}" bindtap="__e"></image></view><view data-event-opts="{{[['tap',[['showModal',['$event']]]]]}}" class="cybername" bindtap="__e">{{selfname}}</view></view><block wx:if="{{isModalVisible}}"><view class="modal-overlay"><view style="margin:20rpx;text-align:center;font-size:30rpx;font-weight:700;">登录/注册</view><view style="margin:20rpx;color:#b3b3b3;text-align:center;">请求获取你的昵称、头像</view><button class="avatar-wrapper" open-type="chooseAvatar" data-event-opts="{{[['chooseavatar',[['onChooseAvatar',['$event']]]]]}}" bindchooseavatar="__e"><image class="avatar" src="{{avatarUrl}}"></image></button><input class="weui-input" id="nickInput" type="nickname" placeholder="请输入昵称" data-event-opts="{{[['input',[['__set_model',['','nickname','$event',[]]]]]]}}" value="{{nickname}}" bindinput="__e"/><view class="button-box"><button data-event-opts="{{[['tap',[['hideModal',['$event']]]]]}}" class="login-reject" bindtap="__e">拒绝</button><button data-event-opts="{{[['tap',[['submitModal',['$event']]]]]}}" class="login-resolve" style="color:white;background-color:#32c9fc;border:1rpx solid #32c9fc;" bindtap="__e">允许</button></view></view></block><block wx:if="{{isModalVisible}}"><view class="page-overlay"></view></block></view>